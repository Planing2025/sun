<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>استمارة جمع المعلومات</title>
  <style>
    /* (التصميم كما هو) */
  </style>
</head>
<body>
  <div class="form-container" id="formContainer">
    <div class="form-header">
      <h1>كلية طب الاسنان / جامعة البصرة</h1>
    </div>
    <form id="studentForm">
      <div class="question">
        <label for="fullName">الاسم الثلاثي</label>
        <input type="text" id="fullName" name="fullName" placeholder="اكتب الاسم الثلاثي" required="">
      </div>
      <div class="question">
        <label for="degree">الشهادة</label>
        <select id="degree" name="degree" required="">
          <option value="" disabled="" selected="">اختر الشهادة</option>
          <option value="اعدادية">اعدادية</option>
          <option value="بكالوريوس">بكالوريوس</option>
          <option value="دبلوم">دبلوم</option>
          <option value="ماجستير">ماجستير</option>
          <option value="دكتوراه">دكتوراه</option>
        </select>
      </div>
      <div class="question">
        <label for="branch">الاختصاص</label>
        <input type="text" id="branch" name="branch" placeholder="اكتب الاختصاص" required="">
      </div>
      <div class="question">
        <label for="workPlace">مكان العمل</label>
        <input type="text" id="workPlace" name="workPlace" placeholder="اكتب مكان العمل" required="">
      </div>
      <div class="question">
        <label for="phoneNumber">رقم الهاتف</label>
        <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="اكتب رقم الهاتف" required="">
      </div>
      <div class="question">
        <label for="email">البريد الإلكتروني</label>
        <input type="email" id="email" name="email" placeholder="اكتب البريد الإلكتروني" required="">
      </div>
      <button type="button" onclick="submitData()">إرسال البيانات</button>
    </form>
  </div>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwLYEQCF3t3iZIe-yb01F3LPNE4Gu4JYLfOpQags8C5NqZa7FlEBugh1L-SQ34tYwk76Q/exec'; // استبدل برابط Google Apps Script الصحيح

    function submitData() {
        const data = {
            fullName: document.getElementById('fullName').value,
            degree: document.getElementById('degree').value,
            branch: document.getElementById('branch').value,
            workPlace: document.getElementById('workPlace').value,
            phoneNumber: document.getElementById('phoneNumber').value,
            email: document.getElementById('email').value,
        };

        // التحقق من أن جميع الحقول ممتلئة
        if (!data.fullName || !data.degree || !data.branch || !data.workPlace || !data.phoneNumber || !data.email) {
            alert('يرجى ملء جميع الحقول المطلوبة.');
            return;
        }

        // إرسال البيانات إلى Google Apps Script
        fetch(scriptURL, {
            method: 'POST',
            body: JSON.stringify(data),
            headers: {
                'Content-Type': 'application/json',
            },
        })
        .then(response => response.json())
        .then(result => {
            if (result.status === 'success') {
                alert('تم إرسال البيانات بنجاح.');
                document.getElementById('studentForm').reset(); // إعادة تعيين النموذج بعد الإرسال
            } else {
                alert('حدث خطأ أثناء إرسال البيانات: ' + result.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('حدث خطأ أثناء الاتصال بالخادم.');
        });
    }
  </script>
</body>
</html>
